# 盲道导航障碍物类型标签库更新说明

## 📋 更新概述

本次更新基于ISO 23599国际无障碍标准与GB50763国内规范，将障碍物类型从原有的简单分类扩展为完整的4大维度18子类100+标签系统。

## 🎯 更新内容

### 1. 静态障碍物（Static Obstacles）

#### 1.1 地面障碍
- **凸起类**：井盖凸起、路面修补凸包、减速带、轨道凸起
- **凹陷类**：排水沟、坑洞、缺失地砖、施工凹槽
- **平面类**：积水滩、油污区、光滑大理石地面、落叶堆积

#### 1.2 固定设施
- **街道家具**：路灯杆、公交站牌、垃圾桶、自行车架
- **商业设施**：报刊亭、冰淇淋车、临时展台、自动售货机
- **公共设施**：消防栓、电箱、邮筒、AED设备箱

### 2. 动态障碍物（Dynamic Obstacles）

#### 2.1 行人相关
- **个体行为**：站立行人、奔跑儿童、滑板少年、低头族
- **群体行为**：排队人群、旅游团、广场舞群体、抗议集会
- **特殊状态**：轮椅使用者、导盲犬、拄拐行人、婴儿车

#### 2.2 交通工具
- **非机动车**：共享单车、电动自行车、三轮车、平衡车
- **机动车**：违停汽车、送货卡车、紧急车辆、移动餐车
- **微型运输**：手推车、行李车、超市购物车、平板拖车

#### 2.3 动物类
- **宠物**：未栓绳犬只、猫、鸽子群、流浪动物
- **工作动物**：导盲犬、警犬、马术用马

### 3. 日常高频障碍（Daily Obstacles）

#### 3.1 商业活动障碍
- **摊位类**：早餐摊、夜市摊位、促销展台、流动花车
- **货物类**：快递堆放、货品装卸、啤酒箱、蔬菜筐

#### 3.2 临时性障碍
- **活动类**：婚礼拱门、拍摄器材、临时舞台、充气城堡
- **自然类**：折断树枝、冰面、积雪堆、沙尘堆积

#### 3.3 特殊场景
- **交通设施**：地铁闸机、安检设备、公交卡机、共享单车停放区
- **服务设施**：ATM机、充电桩、快递柜、体重秤

### 4. 建筑障碍（Architectural Barriers）

#### 4.1 设计缺陷类
- **通道问题**：过窄盲道、直角转弯、突然断头、绿化带侵占
- **设施问题**：过矮扶手、反光玻璃幕墙、旋转门无辅助把手

#### 4.2 施工相关
- **工地设施**：水泥搅拌车、脚手架、建材堆放、钻孔机
- **临时改造**：临时电线、测量标桩、探坑、围挡延伸

#### 4.3 特殊建筑结构
- **高空障碍**：悬挂灯笼、监控杆、吊装装饰、横幅绳索
- **地下设施**：通风井、地铁出口、地下车库坡道

## 🔧 技术实现

### 1. 标签库结构
```json
{
  "obstacle_id": "DY0032",
  "category": "dynamic/vehicle",
  "name": "电动自行车",
  "risk_level": 2,
  "avoidance": "lateral",
  "weather_related": false,
  "time_sensitive": ["07:00-09:00", "17:00-19:00"]
}
```

### 2. 风险等级分类
- **Level 1**：低风险，仅需减速
- **Level 2**：中风险，需要减速并注意
- **Level 3**：高风险，需要减速并避让
- **Level 4**：极高风险，需要立即停止

### 3. 避让策略
- **lateral**：横向避让
- **slow**：减速通过
- **stop**：立即停止

## 📁 文件更新

### 1. 核心应用文件
- `core/two_point_annotator.py`：更新CLASS_INFO字典，包含100+障碍物类型

### 2. 配置文件
- `configs/voice_config.json`：完整的语音配置，支持所有障碍物类型
- `configs/voice_config_old.json`：备份原配置文件

### 3. 文档文件
- `docs/障碍物类型更新说明.md`：本说明文档

## 🚀 使用说明

### 1. 启动应用
```bash
cd scripts
python ../core/two_point_annotator.py
```

### 2. 障碍物检测
- 系统现在能够识别100+种不同类型的障碍物
- 每种障碍物都有对应的风险等级和避让策略
- 语音提示更加精确和详细

### 3. 语音播报
- 根据障碍物类型提供不同的语音提示
- 支持距离、方向、风险等级的智能播报
- 特殊场景下的定制化语音提醒

## 📊 统计信息

- **总障碍物类型**：100+
- **主要分类**：4大维度
- **子分类**：18个子类
- **风险等级**：4个等级
- **避让策略**：3种策略

## 🔄 兼容性

- 保持与原有系统的完全兼容
- 支持渐进式升级
- 向后兼容原有的检测逻辑

## 📝 注意事项

1. **模型训练**：需要重新训练YOLO模型以支持新的障碍物类型
2. **数据标注**：建议使用新的标签库进行数据标注
3. **性能优化**：大量标签可能影响检测速度，建议根据实际需求选择
4. **语音配置**：可以根据实际使用场景调整语音提示内容

## 🎯 未来规划

1. **持续优化**：根据实际使用反馈持续优化标签库
2. **智能学习**：引入机器学习自动识别新的障碍物类型
3. **场景扩展**：支持更多特殊场景的障碍物识别
4. **国际化**：支持多语言语音播报 